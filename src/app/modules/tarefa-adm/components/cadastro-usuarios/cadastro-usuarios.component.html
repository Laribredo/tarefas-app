<section class="about">
  <div class="container">
    <div class="section-title">
      <h2>Cadastro de Usuários</h2>
      <p>
        Área destinada a cadastro de usuários, para a utilização do sistema.
      </p>
    </div>
    <div class="row">
      <div class="col-md-8">
        <form [formGroup]="cadastro" (ngSubmit)="onSubmit()">
          <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label"
              >Nome</label
            >
            <div class="col-sm-10">
              <input
                type="text"
                class="form-control {{
                  this.cadastro.controls['nome'].touched &&
                  this.cadastro.controls['nome'].value == null
                    ? 'is-invalid'
                    : ''
                }}"
                formControlName="nome"
              />
              <span
                class="text-danger"
                *ngIf="
                  this.cadastro.controls['nome'].touched &&
                  this.cadastro.controls['nome'].value == null
                "
              >
                É necessário definir um nome para o usuário</span
              >
            </div>
          </div>
          <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label"
              >Email</label
            >
            <div class="col-sm-10">
              <input
                type="email"
                class="form-control {{
                  this.cadastro.controls['email'].touched &&
                  this.cadastro.controls['email'].value == null
                    ? 'is-invalid'
                    : ''
                }}"
                id="inputEmail3"
                formControlName="email"
              />
              <span
                class="text-danger"
                *ngIf="
                  this.cadastro.controls['email'].touched &&
                  this.cadastro.controls['email'].value == null
                "
              >
                É necessário definir um email para o usuário</span
              >
            </div>
          </div>
          <div class="form-group row">
            <label for="inputPassword3" class="col-sm-2 col-form-label"
              >Senha</label
            >
            <div class="col-sm-10">
              <input
                type="password"
                class="form-control {{
                  this.cadastro.controls['senha'].touched &&
                  this.cadastro.controls['senha'].value == null
                    ? 'is-invalid'
                    : ''
                }}"
                formControlName="senha"
              />
              <span
                class="text-danger"
                *ngIf="
                  this.cadastro.controls['senha'].touched &&
                  this.cadastro.controls['senha'].value == null
                "
              >
                É necessário definir uma senha para o usuário</span
              >
            </div>
          </div>
          <fieldset class="form-group row">
            <legend class="col-form-label col-sm-2 float-sm-left pt-0">
              Permissão
            </legend>
            <div class="col-sm-10">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="permissao"
                  value="0"
                  formControlName="permissao"
                  checked
                />
                <label class="form-check-label" for="gridRadios1">
                  Administrador
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="permissao"
                  value="1"
                  formControlName="permissao"
                />
                <label class="form-check-label" for="gridRadios2">
                  Usuário
                </label>
              </div>
            </div>
          </fieldset>
          <div class="col-md-12" *ngIf="erros.length > 0">
            <ul>
              <li class="text-danger" *ngFor="let err of erros">{{ err }}</li>
            </ul>
          </div>
          <div class="form-group row">
            <div class="col-sm-10">
              <button
                type="button"
                class="btn btn-secondary espaco-botao"
                (click)="limpar()"
              >
                Limpar
              </button>
              <button
                *ngIf="!aguardar"
                type="submit"
                class="btn btn-primary espaco-botao"
                [disabled]="!cadastro.valid"
              >
                Cadastrar
              </button>
              <button
                class="btn btn-primary"
                type="button"
                *ngIf="aguardar"
                disabled
              >
                <span
                  class="spinner-border spinner-border-sm"
                  role="status"
                  aria-hidden="true"
                ></span>
                Aguarde...
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
